(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0e76"],{4488:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center mt-3",staticStyle:{position:"relative"}},[i("h1",[t._v("Meow Crawler")]),i("div",{staticClass:"d-flex flex-column"},[i("div",{staticClass:"d-flex justify-content-center"},[i("div",{staticClass:"d-flex",staticStyle:{width:"900px"}},[i("b-form-input",{staticClass:"m-1",attrs:{disabled:t.downloading,state:t.linkstate,type:"search",placeholder:"Nhập link vào đây"},on:{keyup:t.onKeyUp,input:t.onInput},model:{value:t.link,callback:function(e){t.link=e},expression:"link"}}),i("b-form-select",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Giới hạn số lượng kết quả URL trả về",expression:"'Giới hạn số lượng kết quả URL trả về'",modifiers:{hover:!0,top:!0}}],staticClass:"p-1 m-1",attrs:{disabled:t.downloading,options:t.maxUrlOptions},model:{value:t.maxUrlSelected,callback:function(e){t.maxUrlSelected=e},expression:"maxUrlSelected"}}),i("b-form-select",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:"Độ sâu tối đa cho phép đối với link liên kết bên trong file html",expression:"'Độ sâu tối đa cho phép đối với link liên kết bên trong file html'",modifiers:{hover:!0,top:!0}}],staticClass:"p-1 m-1",staticStyle:{width:"150px"},attrs:{disabled:t.downloading,options:t.optionsDepth},model:{value:t.depthSelected,callback:function(e){t.depthSelected=e},expression:"depthSelected"}}),i("b-button",{staticClass:"m-1",attrs:{disabled:t.downloading,variant:"primary"},on:{click:t.CrawlData}},[t._v("Crawl")])],1)])]),i("b-alert",{staticClass:"m-auto p-2 mt-2",staticStyle:{width:"600px"},attrs:{variant:"danger",show:!1===t.linkstate}},[t._v("URL không đúng định dạng")]),i("div",{staticClass:"row",staticStyle:{width:"900px",margin:"auto"}},[i("div",{staticClass:"col"},[t._v(t._s(t.countLink))]),i("div",{staticClass:"col"},[t._v(t._s(t.countImage))]),i("div",{staticClass:"col"},[t._v(t._s(t.countText))])]),i("div",[i("b-tabs",{staticStyle:{width:"900px",margin:"10px auto"},attrs:{lazy:"",justified:"",pills:""}},[i("b-tab",{attrs:{title:"Link",active:""}},[t.linkItems.length?i("b-table",{attrs:{fields:[{key:"title"},{key:"url"}],"sticky-header":"450px",hover:"",items:t.linkItems},scopedSlots:t._u([{key:"cell(url)",fn:function(e){return[i("a",{attrs:{target:"_blank",href:e.item.url}},[t._v(t._s(e.item.url))])]}}],null,!1,453411921)}):t._e()],1),i("b-tab",{attrs:{title:"Image"}},[i("div",{staticClass:"d-flex"},[t.imageItems.length?i("b-table",{attrs:{fixed:"",fields:[{key:"url"},{key:"preview"}],"sticky-header":"450px",hover:"",items:t.imageItems},scopedSlots:t._u([{key:"cell(url)",fn:function(e){return[i("a",{attrs:{target:"_blank",href:e.item.url}},[t._v(t._s(e.item.url))])]}},{key:"cell(preview)",fn:function(t){return[i("b-img-lazy",{attrs:{width:"100px",src:t.item.url}})]}}],null,!1,3382628999)}):t._e()],1)]),i("b-tab",{attrs:{title:"Text"}},[t.textItems.length?i("b-table",{attrs:{fields:[{key:"content"}],"sticky-header":"450px",hover:"",items:t.textItems,fixed:""}}):t._e()],1)],1)],1)],1)},s=[],l=i("1da1"),n=(i("96cf"),i("9911"),i("ac1f"),i("466d"),i("2ca0"),{name:"Crawler",data:function(){return{link:"",linkstate:null,downloading:!1,depthSelected:0,optionsDepth:[{value:0,text:"Depth 0"},{value:1,text:"Depth 1"},{value:2,text:"Depth 2"},{value:3,text:"Depth 3"},{value:4,text:"Depth 4"},{value:5,text:"Depth 5"},{value:6,text:"Depth 6"},{value:7,text:"Depth 7"},{value:8,text:"Depth 8"},{value:9,text:"Depth 9"},{value:10,text:"Depth 10"}],maxUrlSelected:0,maxUrlOptions:[{value:0,text:"Không giới hạn"},{value:100,text:"100"},{value:200,text:"200"},{value:300,text:"300"},{value:400,text:"400"},{value:500,text:"500"},{value:1e3,text:"1000"},{value:1500,text:"1500"}],linkItems:[],imageItems:[],textItems:[],countLink:0,countImage:0,countText:0,active:null}},methods:{onKeyUp:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Enter"!==e.key){t.next=4;break}return t.next=3,this.CrawlData();case 3:this.link="";case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onInput:function(){this.linkstate=null},CrawlData:function(){var t;this.link.match(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/)?(this.linkstate=!0,this.downloading=!0,t=this.link.startsWith("http")?this.link:"http://"+this.link,this.linkItems.length=0,this.imageItems.length=0,this.textItems.length=0,this.countLink=0,this.countText=0,this.countImage=0,this.socket.emit("crawl",{method:"getData",url:t,maxDepth:this.depthSelected,maxUrl:this.maxUrlSelected}),this.link=""):this.linkstate=!1},listener:function(t){var e=this;switch(t.type){case"image":this.imageItems.push(t.data),this.countImage++;break;case"link":this.linkItems.push(t.data),this.countLink++;break;case"text":this.textItems.push(t.data),this.countText++;break}clearTimeout(this.active),this.active=setTimeout((function(){e.downloading=!1}),5e3)}},created:function(){this.socket.on("crawl",this.listener)},beforeDestroy:function(){this.socket.off("crawl",this.listener)}}),r=n,o=i("2877"),c=Object(o["a"])(r,a,s,!1,null,"1ee2a74e",null);e["default"]=c.exports}}]);